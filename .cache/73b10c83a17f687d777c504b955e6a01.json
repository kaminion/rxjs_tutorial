{"dependencies":[{"name":"tslib","loc":{"line":2,"column":25}},{"name":"../util/isArray","loc":{"line":3,"column":24}},{"name":"./fromArray","loc":{"line":4,"column":26}},{"name":"../OuterSubscriber","loc":{"line":5,"column":32}},{"name":"../util/subscribeToResult","loc":{"line":6,"column":34}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RaceSubscriber = exports.RaceOperator = undefined;\nexports.race = race;\n\nvar _tslib = require(\"tslib\");\n\nvar tslib_1 = _interopRequireWildcard(_tslib);\n\nvar _isArray = require(\"../util/isArray\");\n\nvar _fromArray = require(\"./fromArray\");\n\nvar _OuterSubscriber = require(\"../OuterSubscriber\");\n\nvar _subscribeToResult = require(\"../util/subscribeToResult\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction race() {\n  var observables = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    observables[_i] = arguments[_i];\n  }\n  if (observables.length === 1) {\n    if ((0, _isArray.isArray)(observables[0])) {\n      observables = observables[0];\n    } else {\n      return observables[0];\n    }\n  }\n  return (0, _fromArray.fromArray)(observables, undefined).lift(new RaceOperator());\n} /** PURE_IMPORTS_START tslib,_util_isArray,_fromArray,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\n\nvar RaceOperator = /*@__PURE__*/function () {\n  function RaceOperator() {}\n  RaceOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new RaceSubscriber(subscriber));\n  };\n  return RaceOperator;\n}();\nexports.RaceOperator = RaceOperator;\n\nvar RaceSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(RaceSubscriber, _super);\n  function RaceSubscriber(destination) {\n    var _this = _super.call(this, destination) || this;\n    _this.hasFirst = false;\n    _this.observables = [];\n    _this.subscriptions = [];\n    return _this;\n  }\n  RaceSubscriber.prototype._next = function (observable) {\n    this.observables.push(observable);\n  };\n  RaceSubscriber.prototype._complete = function () {\n    var observables = this.observables;\n    var len = observables.length;\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      for (var i = 0; i < len && !this.hasFirst; i++) {\n        var observable = observables[i];\n        var subscription = (0, _subscribeToResult.subscribeToResult)(this, observable, undefined, i);\n        if (this.subscriptions) {\n          this.subscriptions.push(subscription);\n        }\n        this.add(subscription);\n      }\n      this.observables = null;\n    }\n  };\n  RaceSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {\n    if (!this.hasFirst) {\n      this.hasFirst = true;\n      for (var i = 0; i < this.subscriptions.length; i++) {\n        if (i !== outerIndex) {\n          var subscription = this.subscriptions[i];\n          subscription.unsubscribe();\n          this.remove(subscription);\n        }\n      }\n      this.subscriptions = null;\n    }\n    this.destination.next(innerValue);\n  };\n  return RaceSubscriber;\n}(_OuterSubscriber.OuterSubscriber);\nexports.RaceSubscriber = RaceSubscriber;\n//# sourceMappingURL=race.js.map"},"hash":"265bcd62b2c7049850abfdadfaf359d5"}