{"dependencies":[{"name":"tslib","loc":{"line":2,"column":25}},{"name":"./Observable","loc":{"line":3,"column":27}},{"name":"./Subscriber","loc":{"line":4,"column":27}},{"name":"./Subscription","loc":{"line":5,"column":29}},{"name":"./util/ObjectUnsubscribedError","loc":{"line":6,"column":40}},{"name":"./SubjectSubscription","loc":{"line":7,"column":36}},{"name":"../internal/symbol/rxSubscriber","loc":{"line":8,"column":51}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AnonymousSubject = exports.Subject = exports.SubjectSubscriber = undefined;\n\nvar _tslib = require(\"tslib\");\n\nvar tslib_1 = _interopRequireWildcard(_tslib);\n\nvar _Observable = require(\"./Observable\");\n\nvar _Subscriber = require(\"./Subscriber\");\n\nvar _Subscription = require(\"./Subscription\");\n\nvar _ObjectUnsubscribedError = require(\"./util/ObjectUnsubscribedError\");\n\nvar _SubjectSubscription = require(\"./SubjectSubscription\");\n\nvar _rxSubscriber = require(\"../internal/symbol/rxSubscriber\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar SubjectSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SubjectSubscriber, _super);\n  function SubjectSubscriber(destination) {\n    var _this = _super.call(this, destination) || this;\n    _this.destination = destination;\n    return _this;\n  }\n  return SubjectSubscriber;\n}(_Subscriber.Subscriber); /** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nexports.SubjectSubscriber = SubjectSubscriber;\n\nvar Subject = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(Subject, _super);\n  function Subject() {\n    var _this = _super.call(this) || this;\n    _this.observers = [];\n    _this.closed = false;\n    _this.isStopped = false;\n    _this.hasError = false;\n    _this.thrownError = null;\n    return _this;\n  }\n  Subject.prototype[_rxSubscriber.rxSubscriber] = function () {\n    return new SubjectSubscriber(this);\n  };\n  Subject.prototype.lift = function (operator) {\n    var subject = new AnonymousSubject(this, this);\n    subject.operator = operator;\n    return subject;\n  };\n  Subject.prototype.next = function (value) {\n    if (this.closed) {\n      throw new _ObjectUnsubscribedError.ObjectUnsubscribedError();\n    }\n    if (!this.isStopped) {\n      var observers = this.observers;\n      var len = observers.length;\n      var copy = observers.slice();\n      for (var i = 0; i < len; i++) {\n        copy[i].next(value);\n      }\n    }\n  };\n  Subject.prototype.error = function (err) {\n    if (this.closed) {\n      throw new _ObjectUnsubscribedError.ObjectUnsubscribedError();\n    }\n    this.hasError = true;\n    this.thrownError = err;\n    this.isStopped = true;\n    var observers = this.observers;\n    var len = observers.length;\n    var copy = observers.slice();\n    for (var i = 0; i < len; i++) {\n      copy[i].error(err);\n    }\n    this.observers.length = 0;\n  };\n  Subject.prototype.complete = function () {\n    if (this.closed) {\n      throw new _ObjectUnsubscribedError.ObjectUnsubscribedError();\n    }\n    this.isStopped = true;\n    var observers = this.observers;\n    var len = observers.length;\n    var copy = observers.slice();\n    for (var i = 0; i < len; i++) {\n      copy[i].complete();\n    }\n    this.observers.length = 0;\n  };\n  Subject.prototype.unsubscribe = function () {\n    this.isStopped = true;\n    this.closed = true;\n    this.observers = null;\n  };\n  Subject.prototype._trySubscribe = function (subscriber) {\n    if (this.closed) {\n      throw new _ObjectUnsubscribedError.ObjectUnsubscribedError();\n    } else {\n      return _super.prototype._trySubscribe.call(this, subscriber);\n    }\n  };\n  Subject.prototype._subscribe = function (subscriber) {\n    if (this.closed) {\n      throw new _ObjectUnsubscribedError.ObjectUnsubscribedError();\n    } else if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return _Subscription.Subscription.EMPTY;\n    } else if (this.isStopped) {\n      subscriber.complete();\n      return _Subscription.Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      return new _SubjectSubscription.SubjectSubscription(this, subscriber);\n    }\n  };\n  Subject.prototype.asObservable = function () {\n    var observable = new _Observable.Observable();\n    observable.source = this;\n    return observable;\n  };\n  Subject.create = function (destination, source) {\n    return new AnonymousSubject(destination, source);\n  };\n  return Subject;\n}(_Observable.Observable);\nexports.Subject = Subject;\n\nvar AnonymousSubject = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(AnonymousSubject, _super);\n  function AnonymousSubject(destination, source) {\n    var _this = _super.call(this) || this;\n    _this.destination = destination;\n    _this.source = source;\n    return _this;\n  }\n  AnonymousSubject.prototype.next = function (value) {\n    var destination = this.destination;\n    if (destination && destination.next) {\n      destination.next(value);\n    }\n  };\n  AnonymousSubject.prototype.error = function (err) {\n    var destination = this.destination;\n    if (destination && destination.error) {\n      this.destination.error(err);\n    }\n  };\n  AnonymousSubject.prototype.complete = function () {\n    var destination = this.destination;\n    if (destination && destination.complete) {\n      this.destination.complete();\n    }\n  };\n  AnonymousSubject.prototype._subscribe = function (subscriber) {\n    var source = this.source;\n    if (source) {\n      return this.source.subscribe(subscriber);\n    } else {\n      return _Subscription.Subscription.EMPTY;\n    }\n  };\n  return AnonymousSubject;\n}(Subject);\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map"},"hash":"9e2faafb9aa0ac5743a9f6a0bba55f9a"}